{% load static %}
<!doctype html>
<html class="no-js" lang="en">

    <head>
        <!-- meta data -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

        <!--font-family-->
		<link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
        
        <!-- title of site -->
        <title>Directory Landing Page</title>

        <!-- For favicon png -->
		<link rel="shortcut icon" type="image/icon" href="{% static 'assets/logo/logo1.png'%}"/>
       
        <!--font-awesome.min.css-->
        <link rel="stylesheet" href="{% static 'assets/css/font-awesome.min.css'%}">
<!-- SweetAlert2 CSS -->
<link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">

<!-- SweetAlert2 JS -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <!--linear icon css-->
		<link rel="stylesheet" href="{% static 'assets/css/linearicons.css'%}">

		<!--animate.css-->
        <link rel="stylesheet" href="{% static 'assets/css/animate.css'%}">

		<!--flaticon.css-->
        <link rel="stylesheet" href="{% static 'assets/css/flaticon.css'%}">

		<!--slick.css-->
        <link rel="stylesheet" href="{% static 'assets/css/slick.css'%}">
		<link rel="stylesheet" href="{% static 'assets/css/slick-theme.css'%}">
		
        <!--bootstrap.min.css-->
        <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css'%}">
		
		<!-- bootsnav -->
		<link rel="stylesheet" href="{% static 'assets/css/bootsnav.css'%}" >	
        
        <!--style.css-->
        <link rel="stylesheet" href="{% static 'assets/css/user_style.css'%}">
        
        <!--responsive.css-->
        <link rel="stylesheet" href="{% static 'assets/css/responsive.css'%}">
        
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		
        <!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>

	
	.service-list {
		margin-top: 30px;
	}
	.service-item {
		margin-bottom: 20px;
		background-color: #f9f9f9;
		padding: 15px;
		border-radius: 8px;
		box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
	}
	.service-item h4 {
		margin-bottom: 10px;
	}
	.service-item p {
		margin-bottom: 8px;
	}
	.filter-box {
		margin-bottom: 20px;
	}
	.pagination {
		margin-top: 30px;
		justify-content: center;
	}

	.card {
		border: none;
		transition: transform 0.2s;
	}
	
	.card:hover {
		transform: translateY(-10px);
	}
	
	.card-title {
		font-size: 18px;
		font-weight: bold;
	}
	
	.card-text {
		color: #666;
		margin-bottom: 15px;
	}
	
	.btn-primary {
		background-color: #410b08;
		border: none;
	}
	
	.btn-primary:hover {
		background-color: #410b08;
	}
	
	.col-md-3{
		position: relative;
		min-height: 1px;
		padding-right:0px; 
		padding-left: 1px;
		
	}


	/* Footer */
	.footer {
		background-color: #333;
		color: white;
		padding: 15px;
		text-align: center;
		margin-top:50px;
	}
	.footer a {
		color: #ffc107;
		text-decoration: none;
	}
	.footer a:hover {
		text-decoration: underline;
	}
	/* Styling for Search Bar */
	.search-bar {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: 15px;
		background-color: #5c3636ae;
		border-radius: 10px;
		box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
		margin-bottom: 20px;
	}
	
	.search-bar input,
	.search-bar select {
		width: 100%;
		border: 2px solid #ddd;
		padding: 4px;
		border-radius: 8px;
		font-size: 16px;
		margin-right: 10px;
		outline: none;
		transition: 0.3s;
	}
	
	.search-bar input:focus,
	.search-bar select:focus {
		border-color: #410b08;
		box-shadow: 0 0 5px rgba(255, 102, 0, 0.5);
	}
	
	.search-bar button {
		background-color: #410b08;
		color: white;
		padding: 12px 20px;
		border-radius: 8px;
		font-size: 16px;
		border: none;
		cursor: pointer;
		transition: background-color 0.3s;
	}
	
	.search-bar button:hover {
		background-color: #8f4a3fe1;
	}

	/* Add small magnifying glass icon */
	.search-bar input::before {
		content: "\f002";
		font-family: FontAwesome;
		position: absolute;
		left: 10px;
	}
	.favorite-icon {
		font-size: 2rem;
		cursor: pointer;
		transition: color 0.3s ease;
	}
	.favorite-icon:hover {
		color: #ff4081;
	}
	.favorite-icon.favorited {
		color: #ff4081;
	}

	.categories-wrapper {
        display: flex;
        flex-wrap: nowrap;
        overflow-x: auto;
        gap: 20px;
        padding: 20px 0;
        -webkit-overflow-scrolling: touch;
    }

    .category-item {
        min-width: 150px;
        text-decoration: none;
        text-align: center;
        transition: transform 0.3s ease;
        padding: 10px;
    }

    .category-image-wrapper {
        width: 120px;
        height: 120px;
        margin: 0 auto 15px;
        border-radius: 50%;
        overflow: hidden;
        border: 3px solid #fff;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
    }

    .category-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .category-title {
        font-size: 14px;
        margin: 0;
        color: #333;
        white-space: nowrap;
    }

    .category-item:hover {
        transform: translateY(-5px);
        text-decoration: none;
    }

    .category-item:hover .category-image-wrapper {
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }

    .category-item:hover .category-image {
        transform: scale(1.1);
    }

    .category-item:hover .category-title {
        color: #C75B7A;
    }

    /* Custom scrollbar styling */
    .categories-wrapper::-webkit-scrollbar {
        height: 6px;
    }
    
    .categories-wrapper::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }
    
    .categories-wrapper::-webkit-scrollbar-thumb {
        background: #C75B7A;
        border-radius: 10px;
    }
    
    .categories-wrapper::-webkit-scrollbar-thumb:hover {
        background: #b44c69;
    }

    /* Responsive styles */
    @media (max-width: 768px) {
        .category-item {
            min-width: 120px;
        }

        .category-image-wrapper {
            width: 90px;
            height: 90px;
        }

        .category-title {
            font-size: 12px;
        }
    }

    .categories-section {
        position: relative;
        padding: 40px 0;
        background-color: #fff;
    }

    .categories-wrapper {
        display: flex;
        flex-wrap: nowrap;
        gap: 20px;
        padding: 20px 0;
        overflow: hidden;
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        position: relative;
    }

    .nav-arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: #fff;
        border: 1px solid #ddd;
        color: #C75B7A;
        font-size: 18px;
        cursor: pointer;
        z-index: 10;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .nav-arrow:hover {
        background-color: #C75B7A;
        color: #fff;
        border-color: #C75B7A;
    }

    .prev-arrow {
        left: 60px;
    }

    .next-arrow {
        right: 60px;
    }

    .nav-arrow:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    /* Your existing category styles... */

    @media (max-width: 768px) {
        .nav-arrow {
            width: 30px;
            height: 30px;
            font-size: 14px;
        }

        .prev-arrow {
            left: 15px;
        }

        .next-arrow {
            right: 15px;
        }
    }
	/* dreamproject/dreamknot1/static/dreamknot1/css/styles.css */

/* Redesigned Chatbot Styles */
.chatbot-icon {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #6d1717; /* Updated color */
    color: white;
    border-radius: 50%;
    padding: 15px;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    z-index: 1000;
    transition: transform 0.3s, background-color 0.3s;
}
.chatbot-icon:hover {
    transform: scale(1.1);
    background-color: #b85757; /* Updated hover color */
}

.chatbox-modal {
    display: none;
    position: fixed;
    bottom: 70px;
    right: 20px;
    width: 350px;
    background-color: #ffffff; /* Updated background color */
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    z-index: 1000;
    transition: all 0.3s;
}

.chatbox-header {
    background-color: #6d1717; /* Updated header color */
    color: white;
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
}
.chatbox-header h2 {
    font-size: 16px;
    margin: 0;
	color:#f1f1f1
}
.close{
	color:#f1f1f1
}

.chatbox-body {
    max-height: 400px;
    overflow-y: auto;
    padding: 15px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.message {
    display: flex;
    flex-direction: column;
    max-width: 75%;
    word-wrap: break-word;
    padding: 10px;
    border-radius: 8px;
}
.message.user-message {
    align-self: flex-end;
    background-color: #53aad8; /* Updated user message color */
    color: rgb(255, 255, 255);
}
.message.chatbot-message {
    align-self: flex-start;
    background-color: #f1f1f1;
    color: black;
}
.message .timestamp {
    font-size: 10px;
    color: gray;
    margin-top: 5px;
    align-self: flex-end;
}

.chatbox-footer {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 15px;
    border-top: 1px solid #ddd;
}
.chatbox-footer input {
    flex: 1;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
}
.icon-tools {
    display: flex;
    gap: 10px;
	color:#333
}
.tool-icon {
    font-size: 20px;
    cursor: pointer;
    transition: color 0.3s;
	
}
.tool-icon:hover {
    color: #410b08; /* Updated icon hover color */
}

.tool-input {
    display: none;
    padding: 15px;
}
.tool-input.active {
    display: block;
}

/* Ensure the microphone icon is always visible */
#speech-button {
    display: inline-block; /* Ensure it is displayed */
    opacity: 1; /* Fully visible */
    transition: opacity 0.7s; /* Smooth transition for hover effects */
	color:#333;
}

/* Optional: Add hover effect if desired */
#speech-button:hover {
    opacity: 0.4; /* Slightly dim on hover */
}


#generated-image-container img {
    max-width: 100%; /* Ensure the image fits within the container */
    border-radius: 5px;
    margin-top: 10px;
}
#uploaded-images img {
    display: block;
    margin-bottom: 10px;
    max-width: 100%;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 5px;
    background-color: #f9f9f9;
}


@media (max-width: 768px) {
    .chatbox-modal {
        width: 90%;
        right: 5%;
    }
}

    /* Rating Stars Styles */
    .rating-stars {
        display: inline-flex;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .rating-stars .fa-star {
        transition: color 0.2s ease;
        margin-right: 2px;
    }
    
    .rating-stars .rating-number {
        margin-left: 5px;
        color: #666;
        font-size: 14px;
        font-weight: 500;
    }
    
    /* Badge Styles */
    .service-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        {% comment %} background:linear-gradient(90deg, rgba(31,6,7,1) 0%, rgba(253,29,29,1) 36%, rgba(252,176,69,1) 62%); {% endcomment %}
        color: white;
        padding: 5px 12px;
        border-radius: 15px;
        font-size: 12px;
        font-weight: bold;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        z-index: 1;
        transition: transform 0.2s ease;
    }
    
    .service-badge:hover {
        transform: scale(1.05);
    }
    
    /* Service Card Hover Effect */
    .service-item {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .service-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }


	.quick-actions {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin-top: 30px;
}

.action-card {
    padding: 20px;
    background-color: #feeded;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    text-decoration: none;
    color: #333;
    transition: transform 0.3s ease;
}

.action-card:hover {
    transform: translateY(-5px);
}

.action-card i {
    font-size: 24px;
    color: #C75B7A;
    margin-bottom: 10px;
}

.action-card h3 {
    font-size: 16px;
    margin-bottom: 5px;
}

.action-card p {
    font-size: 14px;
    color: #666;
}

.hero-showcase {
    display: flex;
    align-items: center;
}
</style>
    </head>
	
	<body>

	 <!-- Navigation Section -->
	 <header class="header-area">
        <nav class="navbar navbar-default bootsnav navbar-sticky navbar-scrollspy" data-minus-value-desktop="70" data-minus-value-mobile="55" data-speed="1000">
            <div class="container">
                <!-- Navbar Header -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
                        <i class="fa fa-bars"></i>
                    </button>
                    <a class="navbar-brand" href="{% url 'user_home' %}">Dream Knot</a>
                </div>
                <!-- Navbar Menu -->
                <div class="collapse navbar-collapse menu-ui-design" id="navbar-menu">
                    <ul class="nav navbar-nav navbar-right" data-in="fadeInDown" data-out="fadeOutUp">
                        <li><a href="{% url 'user_home' %}">Home</a></li>
						<!-- <li><a href="{% url 'budget_analytics' %}">budget_analytics</a></li> -->
                        
                        {% comment %} <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" id="Planning">Planning Tools <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="{% url 'send_rsvp_invitation' %}" id="Invitation">Invitation</a></li>
                                <li><a href="{% url 'current_month_todolist' %}" id="addtask">Todo List</a></li>
                            </ul>
                        </li> {% endcomment %}
						<li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" id="Planning">Todo List <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="{% url 'current_month_todolist' %}" id="Invitation">Current Month list</a></li>
                                <li><a href="{% url 'todo_list' %}" id="addtask">All Tasks</a></li>
                            </ul>
                        </li>
						<li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" id="Planning">Invitation <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="{% url 'send_rsvp_invitation' %}" id="Invitation">Invitation</a></li>
                                <li><a href="{% url 'invitation_list' %}" id="Invitation List">Invitation List</a></li>
                            </ul>
                        </li>
						<li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" id="account">My Account<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="{% url 'user_booking_details' %}" id="booking">My Bookings</a></li>
                                <li><a href="{% url 'favorite_list' %}" id="Invitation List">Favourite List</a></li>
                            </ul>
                        </li>
						<li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Budget Tools<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="{% url 'optimize_budget' %}">Create Budget</a></li>
                                <li><a href="{% url 'budget_analytics' %}">Budget Analytics</a></li>
                            </ul>
                        </li>
						<li><a href="{% url 'wedding_blogs' %}" id="wedding_blogs">blogs</a></li>
                        <!-- Profile Dropdown -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="fa fa-user-circle fa-2x"></i> {{ name }} <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="{% url 'update_user_profile' %}">View Profile</a></li>
                                <li><a href="{% url 'logout' %}" class="logout-button">Logout</a></li>
                            </ul>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="welcome-hero" id="home">
        <div class="container">
			{% if messages %}
			<div class="messages-container">
				<ul class="messages">
					{% for message in messages %}
					<li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
					{% endfor %}
				</ul>
			</div>
			<script>
				// Hide messages after 5 seconds
				setTimeout(function() {
					const messagesContainer = document.querySelector('.messages-container');
					if (messagesContainer) {
						messagesContainer.style.display = 'none';
					}
				}, 5000);
			</script>
			{% endif %}
            <div class="welcome-hero-txt">
                {% comment %} <h3 style="font-size: 25px; font-family: 'Comic Sans MS', cursive; color: white; padding-bottom: 30px;">
                    <i>Welcome, {{ name }}!</i>
                </h3> {% endcomment %}
                <h2>Best place to find and explore <br> all that you need</h2>
                <p>Manage your upcoming events, keep track of your wedding checklist, and ensure every detail is perfectly taken care of.</p>
                {% comment %} <a href="{% url 'user_dashboard' %}" class="btn btn-primary" style="background-color: orange; padding: 5px 25px; margin-top: 29px;">Explore Services</a> {% endcomment %}

                {% if time_left %}
                <p style="font-size: 20px; padding:20px; font-weight: bold; color: #ffffff;">{{ time_left }}</p>
                {% endif %}

                {% if message %}
                <div style="background-color: #d9edf7; border: 1px solid #bcdff1; border-radius: 5px; padding: 10px; margin-top: 20px;">
                    <p style="color: #31708f;">{{ message }}</p>
                </div>
                {% endif %}

                {% comment %} <div class="profile">
                    <p><strong>Wedding Date:</strong> {% if wedding_date %}{{ wedding_date }}{% else %}Not set{% endif %}</p>
                </div> {% endcomment %}
            </div>
			<div class="filter-box">
				<form method="GET" action="{% url 'user_home' %}">
					<div class="row search-bar">
						{% comment %} <div class="col-md-3">
					<input type="text" name="search" class="form-control" placeholder="Search services..." value="{{ request.GET.search }}" style="border-radius: 5px; padding: 15px 20px; border: 1px solid #ddd; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); height: 50px;">
						</div> {% endcomment %}
						<div class="col-md-3">
							<select name="category" class="form-control" style="border-radius: 5px; padding: 15px 20px; border: 1px solid #ddd; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); height: 50px;">
								<option value="">Select Category</option>
								<option value="Photography" {% if request.GET.category == 'Photography' %}selected{% endif %}>Photography</option>
								<option value="Catering" {% if request.GET.category == 'Catering' %}selected{% endif %}>Catering</option>
								<option value="Venue" {% if request.GET.category == 'Venue' %}selected{% endif %}>Venue</option>
								<option value="Decoration" {% if request.GET.category == 'Decoration' %}selected{% endif %}>Decoration</option>
								<option value="MusicEntertainment" {% if request.GET.category == 'MusicEntertainment' %}selected{% endif %}>Music & Entertainment</option>
								<option value="MakeupHair" {% if request.GET.category == 'MakeupHair' %}selected{% endif %}>Makeup & Hair</option>
								<option value="Rentals" {% if request.GET.category == 'Rentals' %}selected{% endif %}>Rentals</option>
								<option value="MehendiArtist" {% if request.GET.category == 'MehendiArtist' %}selected{% endif %}>Mehendi Artist</option>
							</select>
						</div>
						
						<div class="col-md-3">
							<select name="city" class="form-control" style="border-radius: 5px; padding: 15px 20px; border: 1px solid #ddd; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); height: 50px;">
								<option value="">Select City</option>
								<option value="Thiruvananthapuram" {% if request.GET.city == 'Thiruvananthapuram' or request.GET.place == 'Thiruvananthapuram' %}selected{% endif %}>Thiruvananthapuram</option>
								<option value="Ernakulam" {% if request.GET.city == 'Ernakulam' or request.GET.place == 'Ernakulam' %}selected{% endif %}>Ernakulam</option>
								<option value="Kozhikode" {% if request.GET.city == 'Kozhikode' or request.GET.place == 'Kozhikode' %}selected{% endif %}>Kozhikode</option>
								<option value="Kottayam" {% if request.GET.city == 'Kottayam' or request.GET.place == 'Kottayam' %}selected{% endif %}>Kottayam</option>
								<option value="Thrissur" {% if request.GET.city == 'Thrissur' or request.GET.place == 'Thrissur' %}selected{% endif %}>Thrissur</option>
								<option value="Malappuram" {% if request.GET.city == 'Malappuram' or request.GET.place == 'Malappuram' %}selected{% endif %}>Malappuram</option>
								<option value="Alappuzha" {% if request.GET.city == 'Alappuzha' or request.GET.place == 'Alappuzha' %}selected{% endif %}>Alappuzha</option>
								<option value="Pathanamthitta" {% if request.GET.city == 'Pathanamthitta' or request.GET.place == 'Pathanamthitta' %}selected{% endif %}>Pathanamthitta</option>
								<option value="Idukki" {% if request.GET.city == 'Idukki' or request.GET.place == 'Idukki' %}selected{% endif %}>Idukki</option>
								<option value="Wayanad" {% if request.GET.city == 'Wayanad' or request.GET.place == 'Wayanad' %}selected{% endif %}>Wayanad</option>
								<option value="Kannur" {% if request.GET.city == 'Kannur' or request.GET.place == 'Kannur' %}selected{% endif %}>Kannur</option>
								<option value="Kasargod" {% if request.GET.city == 'Kasargod' or request.GET.place == 'Kasargod' %}selected{% endif %}>Kasargod</option>
							</select>
						</div>
						
						
						<div class="col-md-3">
							<select name="price_range" class="form-control" style="border-radius: 5px; padding: 15px 20px; border: 1px solid #ddd; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); height: 50px;">
								<option value="">Select Price Range</option>
								<option value="0-5000" {% if price_range == '0-5000' %}selected{% endif %}>₹0 - ₹5,000</option>
								<option value="5001-10000" {% if price_range == '5001-10000' %}selected{% endif %}>₹5,001 - ₹10,000</option>
								<option value="10001-20000" {% if price_range == '10001-20000' %}selected{% endif %}>₹10,001 - ₹20,000</option>
								<option value="20001-50000" {% if price_range == '20001-50000' %}selected{% endif %}>₹20,001 - ₹50,000</option>
								<option value="50001-100000" {% if price_range == '50001-100000' %}selected{% endif %}>₹50,001 - ₹1,00,000</option>
								<option value="100001" {% if price_range == '100001' %}selected{% endif %}>₹1,00,001+</option>
							</select>
						</div>
						<div class="col-md-2">
							<button type="submit" class="btn btn-primary btn-block">Search</button>
						</div>
					</div>
				</form>
			</div>
        </div>

    </section>






	
<section class="categories-section" style="padding: 40px 0; background-color: #fff;">
    <div class="container">
        <div class="section-title text-center mb-4">
            <h2>Browse by Category</h2>
        </div>
        <div class="row justify-content-center">
            <div class="col-12 position-relative">
                <!-- Add navigation arrows -->
                <button class="nav-arrow prev-arrow" id="prevButton">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="nav-arrow next-arrow" id="nextButton">
                    <i class="fas fa-chevron-right"></i>
                </button>
                
                <div class="categories-wrapper" id="categoriesWrapper">
                    <!-- Your existing category items -->
                    <a href="{% url 'user_dashboard' %}?category=Venue" class="category-item">
                        <div class="category-image-wrapper">
                            <img src="{% static 'images/categories/venue3.jpg' %}" alt="Venue" class="category-image">
                        </div>
                        <h6 class="category-title">Venue</h6>
                    </a>

                    <a href="{% url 'user_dashboard' %}?category=Photography" class="category-item">
                        <div class="category-image-wrapper">
                            <img src="{% static 'images/categories/photography.jpg' %}" alt="Photography" class="category-image">
                        </div>
                        <h6 class="category-title">Photography</h6>
                    </a>

                    <a href="{% url 'user_dashboard' %}?category=Catering" class="category-item">
                        <div class="category-image-wrapper">
                            <img src="{% static 'images/categories/catering.jpg' %}" alt="Catering" class="category-image">
                        </div>
                        <h6 class="category-title">Catering</h6>
                    </a>

                    <a href="{% url 'user_dashboard' %}?category=Decoration" class="category-item">
                        <div class="category-image-wrapper">
                            <img src="{% static 'images/categories/venue.jpg' %}" alt="Decoration" class="category-image">
                        </div>
                        <h6 class="category-title">Decoration</h6>
                    </a>

                    <a href="{% url 'user_dashboard' %}?category=MusicEntertainment" class="category-item">
                        <div class="category-image-wrapper">
                            <img src="{% static 'images/categories/music.jpg' %}" alt="Music & Entertainment" class="category-image">
                        </div>
                        <h6 class="category-title">Music & Entertainment</h6>
                    </a>

                    <a href="{% url 'user_dashboard' %}?category=MakeupHair" class="category-item">
                        <div class="category-image-wrapper">
                            <img src="{% static 'images/categories/makeup.jpg' %}" alt="Makeup & Hair" class="category-image">
                        </div>
                        <h6 class="category-title">Makeup & Hair</h6>
                    </a>

                    <a href="{% url 'user_dashboard' %}?category=Rentals" class="category-item">
                        <div class="category-image-wrapper">
                            <img src="{% static 'images/categories/rentals.jpeg' %}" alt="Rentals" class="category-image">
                        </div>
                        <h6 class="category-title">Rentals</h6>
                    </a>

                    <a href="{% url 'user_dashboard' %}?category=MehendiArtist" class="category-item">
                        <div class="category-image-wrapper">
                            <img src="{% static 'images/categories/mehendi.jpg' %}" alt="Mehendi Artist" class="category-image">
                        </div>
                        <h6 class="category-title">Mehendi Artist</h6>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
<h2 style="text-align: center;">Vendors</h2>
   <!-- Service List Section -->
<section class="service-list">
    <div class="container">
        <!-- Filters and Search -->
      <!-- Filters and Search -->
	  

<p style="font-size: 16px; margin-bottom: 8px; color: #ffa453;"> <i class="fas fa-info-circle"></i> Secure your desired date by booking at least 3 months in advance for popular venues and vendors.</p>

       <!-- Service Cards -->
	   <div class="row">
		{% if services_with_images %}
		{% for entry in services_with_images %}
		<div class="col-md-3">
			<div class="service-item" style="border: 1px solid #ddd; padding: 10px; margin-bottom: 15px; border-radius: 8px; background-color: #f7f7f7; height: 100%; display: flex; flex-direction: column;">
				
				<!-- Display Service Images at the Top -->
				{% if entry.main_image %}
				<div class="service-image" style="margin-bottom: 10px; flex: 0 0 auto;height: 200px; overflow: hidden; position: relative;">
					<img src="{{ entry.main_image.url }}" alt="{{ entry.service.name }}" class="img-responsive" style="width: 100%; height: 100%; object-fit: cover; border-radius: 5px;">
					{% if entry.rating >= 4 %}
					<div class="service-badge" style="position: absolute; top: 10px; right: 10px; background-color: #ffc107; color: #000; padding: 5px 10px; border-radius: 20px; font-size: 12px;">
						<i class="fas fa-award" style="margin-right: 3px;"></i> Top Rated
					</div>
					{% endif %}
				</div>
				{% else %}
				<p>No main image available for this service.</p>
				{% endif %}
				
				<!-- Service Details -->
				<div style="flex: 1 0 auto;">
					<h4 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">{{ entry.service.name }}</h4>
					<!-- Rating Display -->
					<div class="rating-stars" style="margin-bottom: 8px;">
						{% for i in "12345" %}
							<i class="fas fa-star" style="color: {% if forloop.counter <= entry.rating %}#ffc107{% else %}#e4e5e9{% endif %}; font-size: 14px;"></i>
						{% endfor %}
						<span class="rating-number" style="margin-left: 5px; font-weight: bold;">{{ entry.rating|floatformat:1 }}</span>
						<span class="rating-count" style="color: #666; font-size: 12px;">({{ entry.rating_count }} {% if entry.rating_count == 1 %}review{% else %}reviews{% endif %})</span>
					</div>
					<p><strong>Service Provider:</strong> {{ entry.vendor_company_name|default:"No company name" }}</p>
					<p><strong>Price:</strong> ₹{{ entry.service.price }}</p>
				</div>
	
				<div style="margin-top: auto;">
					<a href="{% url 'service_detail' entry.service.id %}" class="btn-primary" style="margin-top: 8px; padding: 5px 15px;" id="viewdetails">View Details</a>
					
					<!-- Add margin-left to create space and increase font size -->
				<!--	<i class="fa fa-heart favorite-icon" style="margin-left: 15px; font-size: 1.8rem; " data-service-id="{{ entry.service.id }}"></i>-->
				</div>
				
			</div>
		</div>
		{% endfor %}
		{% else %}
		<div class="col-12">
			<p>No services found. Try adjusting your filters.</p>
		</div>
		{% endif %}
	</div>

<!-- Pagination -->
<div class="pagination-box">
    {% if is_paginated %}
    <ul class="pagination" style="text-align: center; display: flex; justify-content: center;">  <!-- Updated style for centering -->
        {% if page_obj.has_previous %}
        <li><a href="?{% if request.GET.search %}search={{ request.GET.search }}&{% endif %}page={{ page_obj.previous_page_number }}">Previous</a></li>
        {% endif %}
        <li><span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span></li>
        {% if page_obj.has_next %}
        <li><a href="?{% if request.GET.search %}search={{ request.GET.search }}&{% endif %}page={{ page_obj.next_page_number }}">Next</a></li>
        {% endif %}
    </ul>
    {% endif %}
</div>


				<!--<div class="welcome-hero-serch-box">
					<div class="welcome-hero-form">
						<div class="single-welcome-hero-form">
							<h3>what?</h3>
							<form action="index.html">
								<input type="text" placeholder="Ex: palce, resturent, food, automobile" />
							</form>
							<div class="welcome-hero-form-icon">
								<i class="flaticon-list-with-dots"></i>
							</div>
						</div>
						<div class="single-welcome-hero-form">
							<h3>location</h3>
							<form action="index.html">
								<input type="text" placeholder="Ex: london, newyork, rome" />
							</form>
							<div class="welcome-hero-form-icon">
								<i class="flaticon-gps-fixed-indicator"></i>
							</div>
						</div>
					</div>
					<div class="welcome-hero-serch">
						<button class="welcome-hero-btn" onclick="window.location.href='#'">
							 search  <i data-feather="search"></i> 
						</button>
					</div>
				</div>
			</div>

		</section><!--/.welcome-hero-->
		<!--welcome-hero end -->

		<!--list-topics start -->

		<!--works start -->
		<!--<section id="works" class="works">
			<div class="container">
				<div class="section-header">
					<h2>how it works</h2>
					<p>Learn More about how our website works</p>
				</div><!--/.section-header-->
				<!--<div class="works-content">
					<div class="row">
						<div class="col-md-4 col-sm-6">
							<div class="single-how-works">
								<div class="single-how-works-icon">
									<i class="flaticon-lightbulb-idea"></i>
								</div>
								<h2><a href="#">choose <span> what to</span> do</a></h2>
								<p>
									Lorem ipsum dolor sit amet, consecte adipisicing elit, sed do eiusmod tempor incididunt ut laboremagna aliqua. 
								</p>
								<button class="welcome-hero-btn how-work-btn" onclick="window.location.href='#'">
									read more
								</button>
							</div>
						</div>
						<div class="col-md-4 col-sm-6">
							<div class="single-how-works">
								<div class="single-how-works-icon">
									<i class="flaticon-networking"></i>
								</div>
								<h2><a href="#">find <span> what you want</span></a></h2>
								<p>
									Lorem ipsum dolor sit amet, consecte adipisicing elit, sed do eiusmod tempor incididunt ut laboremagna aliqua. 
								</p>
								<button class="welcome-hero-btn how-work-btn" onclick="window.location.href='#'">
									read more
								</button>
							</div>
						</div>
						<div class="col-md-4 col-sm-6">
							<div class="single-how-works">
								<div class="single-how-works-icon">
									<i class="flaticon-location-on-road"></i>
								</div>
								<h2><a href="#">explore <span> amazing</span> place</a></h2>
								<p>
									Lorem ipsum dolor sit amet, consecte adipisicing elit, sed do eiusmod tempor incididunt ut laboremagna aliqua. 
								</p>
								<button class="welcome-hero-btn how-work-btn" onclick="window.location.href='#'">
									read more
								</button>
							</div>
						</div>
					</div>
				</div>
			</div><!--/.container-->
		<!-- Quick Action Cards -->
		<div class="quick-actions">
			<center><a href="{% url 'user_dashboard' %}" class="action-card">
				<i class="fas fa-search"></i>
				<h3>Find Vendors</h3>
				<p>Browse top-rated wedding services</p>
			</a></center>
			<center><a href="{% url 'current_month_todolist' %}" class="action-card">
				<i class="fas fa-tasks"></i>
				<h3>Planning Tools</h3>
				<p>Manage your wedding checklist</p>
			</a></center>
			<center><a href="{% url 'send_rsvp_invitation' %}" class="action-card">
				<i class="fas fa-envelope"></i>
				<h3>Invitations</h3>
				<p>Create & send digital invites</p>
			</a></center>
		</div>

			
		</section><!--/.works-->
		<!--works end -->
		<!-- Subscription Start -->
		<section id="contact" class="subscription" style="background-color: #f9f9f9; padding: 40px 0;">
			<div class="container" style="width: 80%; margin: auto; overflow: hidden;">
				<div class="subscribe-title text-center" style="margin-bottom: 30px;">
					<h2 style="color: #35424a; font-size: 28px; font-weight: bold;">Dream Knot - Your Personal Wedding Planner</h2>
					<p style="color: #666; font-size: 16px;">Dream Knot is an Indian wedding planning website and app where you can find the best wedding vendors, with prices and reviews at the click of a button. Whether you're looking to hire wedding planners in India, find top photographers, or get ideas and inspiration for your wedding, Dream Knot has you covered. Our unique features help you plan effortlessly, from a personalized checklist and detailed vendor list to an inspiration gallery and blog. With Dream Knot, you'll save time and avoid the stress of wedding planning, making it simpler and more enjoyable.
					</p></p>
				</div>

				<div class="container" style="width: 80%; margin: auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px; background-color: #E8D8C4;">
					<div class="subscribe-title text-center" style="margin-bottom: 30px;">
						<h3 style="color: #35424a; font-size: 22px; font-weight: bold;">Booking and Cancellation Policies</h3>
						<p style="color: #666; font-size: 16px; line-height: 1.6;">
							- <strong>Booking Period:</strong> Secure your desired date by booking at least 3 months in advance for popular venues and vendors.<br>
							- <strong>Cancellation Policy:</strong> Cancellations made up to 30 days before the event are eligible for a 50% refund. For cancellations made within 30 days of the event, a refund will not be provided.<br>
							- <strong>Rescheduling:</strong> Rescheduling requests are subject to availability and may incur additional charges. Please contact our support team for assistance.
						</p>
					</div>
				</div>
				
			
				
				<!-- Contact Information Section -->
				<!-- Contact Information Section -->
				<div class="contact-info" style="display: flex; flex-wrap: wrap; justify-content: space-between; margin-top: 20px; padding: 20px; background-color: #ffffff; border-radius: 5px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);">
					{% comment %} <div style="flex: 1; min-width: 250px; margin-right: 20px;">
						<h3 style="color: #35424a; margin-top: 0;">Contact Us to Get the Best Deals</h3>
						<h4 style="color: #35424a;">For Vendors</h4>
						<p style="margin: 5px 0;">Email: <a href="mailto:vendordreamknot0@google.com" style="color: #35424a; text-decoration: none;">vendordreamknot0@google.com</a></p>
						<p style="margin: 5px 0;">Phone: <span style="color: #35424a;">7736686345</span></p>
					</div> {% endcomment %}
					<div style="flex: 1; min-width: 250px;">
						<h4 style="color: #35424a;">For Users</h4>
						<p style="margin: 5px 0;">
							<i class="fas fa-envelope" style="color: #35424a; margin-right: 5px;"></i>
							Email: 
							<a href="mailto:infodreamknot0@google.com" style="color: #35424a; text-decoration: none;">infodreamknot0@google.com</a>
						</p>
						<p style="margin: 5px 0;">
							<i class="fas fa-phone" style="color: #35424a; margin-right: 5px;"></i>
							Phone: 
							<span style="color: #35424a;">7756678765</span>

							<p style="margin: 5px 0;">
								<i class="fab fa-whatsapp" style="color: #35424a; margin-right: 5px;"></i>
								Whatsapp: 
								<a href="https://wa.me/7756678765" style="color: #35424a; text-decoration: none;">
									<span style="color: #35424a;">7736686345</span>
								</a>
					</div>
					<div style="flex: 1; min-width: 250px; margin-left: 20px;">
						<h4 style="color: #35424a;">Registered Address</h4>
						<p style="margin: 5px 0;">Second Floor, Ocus Technopolis, Sector 54 Golf Course Road, Kottayam, Kerala, India, 122002</p>
					</div>
				</div>
				<div class="col-md-6 d-flex">
    <div class="bg-white" style="width: 100%;">
		<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3934.3703613386992!2d76.79004022450403!3d9.563307080397653!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b063588f74843df%3A0x47978c9b0ad71664!2sFutureOn%20events%20and%20wedding%20planners!5e0!3m2!1sen!2sin!4v1737619722514!5m2!1sen!2sin" width="200%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>     
     
    </div>
  </div>
			</div>

			
		</section><!--/subscription-->  
		<!--explore start -->
		<!--<section id="explore" class="explore">
			<div class="container">
				<div class="section-header">
					<h2>explore</h2>
					<p>Explore New place, food, culture around the world and many more</p>
				</div><!--/.section-header-->
			<!--	<div class="explore-content">
					<div class="row">
						<div class=" col-md-4 col-sm-6">
							<div class="single-explore-item">
								<div class="single-explore-img">
									<img src="{% static 'assets/images/explore/e1.jpg'%}" alt="explore image">
									<div class="single-explore-img-info">
										<button onclick="window.location.href='#'">best rated</button>
										<div class="single-explore-image-icon-box">
											<ul>
												<li>
													<div class="single-explore-image-icon">
														<i class="fa fa-arrows-alt"></i>
													</div>
												</li>
												<li>
													<div class="single-explore-image-icon">
														<i class="fa fa-bookmark-o"></i>
													</div>
												</li>
											</ul>
										</div>
									</div>
								</div>
								<div class="single-explore-txt bg-theme-1">
									<h2><a href="#">tommy helfinger bar</a></h2>
									<p class="explore-rating-price">
										<span class="explore-rating">5.0</span>
										<a href="#"> 10 ratings</a> 
										<span class="explore-price-box">
											form
											<span class="explore-price">5$-300$</span>
										</span>
										 <a href="#">resturent</a>
									</p>
									<div class="explore-person">
										<div class="row">
											<div class="col-sm-2">
												<div class="explore-person-img">
													<a href="#">
														<img src="{% static 'assets/images/explore/person.png'%}" alt="explore person">
													</a>
												</div>
											</div>
											<div class="col-sm-10">
												<p>
													Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incid ut labore et dolore magna aliqua.... 
												</p>
											</div>
										</div>
									</div>
									<div class="explore-open-close-part">
										<div class="row">
											<div class="col-sm-5">
												<button class="close-btn" onclick="window.location.href='#'">close now</button>
											</div>
											<div class="col-sm-7">
												<div class="explore-map-icon">
													<a href="#"><i data-feather="map-pin"></i></a>
													<a href="#"><i data-feather="upload"></i></a>
													<a href="#"><i data-feather="heart"></i></a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-4 col-sm-6">
							<div class="single-explore-item">
								<div class="single-explore-img">
									<img src="{% static 'assets/images/explore/e2.jpg'%}" alt="explore image">
									<div class="single-explore-img-info">
										<button onclick="window.location.href='#'">featured</button>
										<div class="single-explore-image-icon-box">
											<ul>
												<li>
													<div class="single-explore-image-icon">
														<i class="fa fa-arrows-alt"></i>
													</div>
												</li>
												<li>
													<div class="single-explore-image-icon">
														<i class="fa fa-bookmark-o"></i>
													</div>
												</li>
											</ul>
										</div>
									</div>
								</div>
								<div class="single-explore-txt bg-theme-2">
									<h2><a href="#">swim and dine resort</a></h2>
									<p class="explore-rating-price">
										<span class="explore-rating">4.5</span>
										<a href="#"> 8 ratings</a> 
										<span class="explore-price-box">
											form
											<span class="explore-price">50$-500$</span>
										</span>
										 <a href="#">hotel</a>
									</p>
									<div class="explore-person">
										<div class="row">
											<div class="col-sm-2">
												<div class="explore-person-img">
													<a href="#">
														<img src="{% static 'assets/images/explore/person.png'%}" alt="explore person">
													</a>
												</div>
											</div>
											<div class="col-sm-10">
												<p>
													Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incid ut labore et dolore magna aliqua.... 
												</p>
											</div>
										</div>
									</div>
									<div class="explore-open-close-part">
										<div class="row">
											<div class="col-sm-5">
												<button class="close-btn open-btn" onclick="window.location.href='#'">open now</button>
											</div>
											<div class="col-sm-7">
												<div class="explore-map-icon">
													<a href="#"><i data-feather="map-pin"></i></a>
													<a href="#"><i data-feather="upload"></i></a>
													<a href="#"><i data-feather="heart"></i></a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-4 col-sm-6">
							<div class="single-explore-item">
								<div class="single-explore-img">
									<img src="{% static 'assets/images/explore/e3.jpg'%}" alt="explore image">
									<div class="single-explore-img-info">
										<button onclick="window.location.href='#'">best rated</button>
										<div class="single-explore-image-icon-box">
											<ul>
												<li>
													<div class="single-explore-image-icon">
														<i class="fa fa-arrows-alt"></i>
													</div>
												</li>
												<li>
													<div class="single-explore-image-icon">
														<i class="fa fa-bookmark-o"></i>
													</div>
												</li>
											</ul>
										</div>
									</div>
								</div>
								<div class="single-explore-txt bg-theme-3">
									<h2><a href="#">europe tour</a></h2>
									<p class="explore-rating-price">
										<span class="explore-rating">5.0</span>
										<a href="#"> 15 ratings</a> 
										<span class="explore-price-box">
											form
											<span class="explore-price">5k$-10k$</span>
										</span>
										 <a href="#">destination</a>
									</p>
									<div class="explore-person">
										<div class="row">
											<div class="col-sm-2">
												<div class="explore-person-img">
													<a href="#">
														<img src="{% static 'assets/images/explore/person.png'%}" alt="explore person">
													</a>
												</div>
											</div>
											<div class="col-sm-10">
												<p>
													Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incid ut labore et dolore magna aliqua.... 
												</p>
											</div>
										</div>
									</div>
									<div class="explore-open-close-part">
										<div class="row">
											<div class="col-sm-5">
												<button class="close-btn" onclick="window.location.href='#'">close now</button>
											</div>
											<div class="col-sm-7">
												<div class="explore-map-icon">
													<a href="#"><i data-feather="map-pin"></i></a>
													<a href="#"><i data-feather="upload"></i></a>
													<a href="#"><i data-feather="heart"></i></a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class=" col-md-4 col-sm-6">
							<div class="single-explore-item">
								<div class="single-explore-img">
									<img src="{% static 'assets/images/explore/e4.jpg'%}" alt="explore image">
									<div class="single-explore-img-info">
										<button onclick="window.location.href='#'">most view</button>
										<div class="single-explore-image-icon-box">
											<ul>
												<li>
													<div class="single-explore-image-icon">
														<i class="fa fa-arrows-alt"></i>
													</div>
												</li>
												<li>
													<div class="single-explore-image-icon">
														<i class="fa fa-bookmark-o"></i>
													</div>
												</li>
											</ul>
										</div>
									</div>
								</div>
								<div class="single-explore-txt bg-theme-4">
									<h2><a href="#">banglow with swiming pool</a></h2>
									<p class="explore-rating-price">
										<span class="explore-rating">5.0</span>
										<a href="#"> 10 ratings</a> 
										<span class="explore-price-box">
											form
											<span class="explore-price">10k$-15k$</span>
										</span>
										 <a href="#">real estate</a>
									</p>
									<div class="explore-person">
										<div class="row">
											<div class="col-sm-2">
												<div class="explore-person-img">
													<a href="#">
														<img src="{% static 'assets/images/explore/person.png'%}" alt="explore person">
													</a>
												</div>
											</div>
											<div class="col-sm-10">
												<p>
													Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incid ut labore et dolore magna aliqua.... 
												</p>
											</div>
										</div>
									</div>
									<div class="explore-open-close-part">
										<div class="row">
											<div class="col-sm-5">
												<button class="close-btn" onclick="window.location.href='#'">close now</button>
											</div>
											<div class="col-sm-7">
												<div class="explore-map-icon">
													<a href="#"><i data-feather="map-pin"></i></a>
													<a href="#"><i data-feather="upload"></i></a>
													<a href="#"><i data-feather="heart"></i></a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-4 col-sm-6">
							<div class="single-explore-item">
								<div class="single-explore-img">
									<img src="{% static 'assets/images/explore/e5.jpg'%}" alt="explore image">
									<div class="single-explore-img-info">
										<button onclick="window.location.href='#'">featured</button>
										<div class="single-explore-image-icon-box">
											<ul>
												<li>
													<div class="single-explore-image-icon">
														<i class="fa fa-arrows-alt"></i>
													</div>
												</li>
												<li>
													<div class="single-explore-image-icon">
														<i class="fa fa-bookmark-o"></i>
													</div>
												</li>
											</ul>
										</div>
									</div>
								</div>
								<div class="single-explore-txt bg-theme-2">
									<h2><a href="#">vintage car expo</a></h2>
									<p class="explore-rating-price">
										<span class="explore-rating">4.2</span>
										<a href="#"> 8 ratings</a> 
										<span class="explore-price-box">
											form
											<span class="explore-price">500$-1200$</span>
										</span>
										 <a href="#">automotion</a>
									</p>
									<div class="explore-person">
										<div class="row">
											<div class="col-sm-2">
												<div class="explore-person-img">
													<a href="#">
														<img src="{% static 'assets/images/explore/person.png'%}" alt="explore person">
													</a>
												</div>
											</div>
											<div class="col-sm-10">
												<p>
													Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incid ut labore et dolore magna aliqua.... 
												</p>
											</div>
										</div>
									</div>
									<div class="explore-open-close-part">
										<div class="row">
											<div class="col-sm-5">
												<button class="close-btn open-btn" onclick="window.location.href='#'">open now</button>
											</div>
											<div class="col-sm-7">
												<div class="explore-map-icon">
													<a href="#"><i data-feather="map-pin"></i></a>
													<a href="#"><i data-feather="upload"></i></a>
													<a href="#"><i data-feather="heart"></i></a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-4 col-sm-6">
							<div class="single-explore-item">
								<div class="single-explore-img">
									<img src="{% static 'assets/images/explore/e6.jpg'%}" alt="explore image">
									<div class="single-explore-img-info">
										<button onclick="window.location.href='#'">best rated</button>
										<div class="single-explore-image-icon-box">
											<ul>
												<li>
													<div class="single-explore-image-icon">
														<i class="fa fa-arrows-alt"></i>
													</div>
												</li>
												<li>
													<div class="single-explore-image-icon">
														<i class="fa fa-bookmark-o"></i>
													</div>
												</li>
											</ul>
										</div>
									</div>
								</div>
								<div class="single-explore-txt bg-theme-5">
									<h2><a href="#">thailand tour</a></h2>
									<p class="explore-rating-price">
										<span class="explore-rating">5.0</span>
										<a href="#"> 15 ratings</a> 
										<span class="explore-price-box">
											form
											<span class="explore-price">5k$-10k$</span>
										</span>
										 <a href="#">destination</a>
									</p>
									<div class="explore-person">
										<div class="row">
											<div class="col-sm-2">
												<div class="explore-person-img">
													<a href="#">
														<img src="{% static 'assets/images/explore/person.png'%}" alt="explore person">
													</a>
												</div>
											</div>
											<div class="col-sm-10">
												<p>
													Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incid ut labore et dolore magna aliqua.... 
												</p>
											</div>
										</div>
									</div>
									<div class="explore-open-close-part">
										<div class="row">
											<div class="col-sm-5">
												<button class="close-btn" onclick="window.location.href='#'">close now</button>
											</div>
											<div class="col-sm-7">
												<div class="explore-map-icon">
													<a href="#"><i data-feather="map-pin"></i></a>
													<a href="#"><i data-feather="upload"></i></a>
													<a href="#"><i data-feather="heart"></i></a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div><!--/.container-->

		</section><!--/.explore-->
		<!--explore end -->

		<!--reviews start -->
		<!--<section id="reviews" class="reviews">
			<div class="section-header">
				<h2>clients reviews</h2>
				<p>What our client say about us</p>
			</div><!--/.section-header-->
			<!--<div class="reviews-content">
				<div class="testimonial-carousel">
				    <div class="single-testimonial-box">
						<div class="testimonial-description">
							<div class="testimonial-info">
								<div class="testimonial-img">
									<img src="{% static 'assets/images/clients/c1.png'%}" alt="clients">
								</div><!--/.testimonial-img-->
							<!--	<div class="testimonial-person">
									<h2>Tom Leakar</h2>
									<h4>london, UK</h4>
									<div class="testimonial-person-star">
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
									</div>
								</div><!--/.testimonial-person-->
							</div><!--/.testimonial-info-->
							<!--<div class="testimonial-comment">
								<p>
									Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis eaque.
								</p>
							</div><!--/.testimonial-comment-->
						</div><!--/.testimonial-description-->
					</div><!--/.single-testimonial-box-->
				  <!--  <div class="single-testimonial-box">
						<div class="testimonial-description">
							<div class="testimonial-info">
								<div class="testimonial-img">
									<img src="{% static 'assets/images/clients/c2.png'%}" alt="clients">
								</div><!--/.testimonial-img-->
							<!--	<div class="testimonial-person">
									<h2>monirul islam</h2>
									<h4>london, UK</h4>
									<div class="testimonial-person-star">
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
									</div>
								</div><!--/.testimonial-person-->
							</div><!--/.testimonial-info-->
							<!--<div class="testimonial-comment">
								<p>
									Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis eaque.
								</p>
							</div><!--/.testimonial-comment-->
						</div><!--/.testimonial-description-->
					</div><!--/.single-testimonial-box-->
				   <!-- <div class="single-testimonial-box">
						<div class="testimonial-description">
							<div class="testimonial-info">
								<div class="testimonial-img">
									<img src="{% static 'assets/images/clients/c3.png'%}" alt="clients">
								</div><!--/.testimonial-img-->
						<!--		<div class="testimonial-person">
									<h2>Shohrab Hossain</h2>
									<h4>london, UK</h4>
									<div class="testimonial-person-star">
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
									</div>
								</div><!--/.testimonial-person-->
							</div><!--/.testimonial-info-->
							<!--<div class="testimonial-comment">
								<p>
									Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis eaque.
								</p>
							</div><!--/.testimonial-comment-->
						</div><!--/.testimonial-description-->
					</div><!--/.single-testimonial-box-->
				   <!-- <div class="single-testimonial-box">
						<div class="testimonial-description">
							<div class="testimonial-info">
								<div class="testimonial-img">
									<img src="{% static 'assets/images/clients/c4.png'%}" alt="clients">
								</div><!--/.testimonial-img-->
							<!--	<div class="testimonial-person">
									<h2>Tom Leakar</h2>
									<h4>london, UK</h4>
									<div class="testimonial-person-star">
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
									</div>
								</div><!--/.testimonial-person-->
							</div><!--/.testimonial-info-->
							<!--<div class="testimonial-comment">
								<p>
									Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis eaque.
								</p>
							</div><!--/.testimonial-comment-->
						</div><!--/.testimonial-description-->
					<!--</div><!--/.single-testimonial-box-->
				    <!--<div class="single-testimonial-box">
						<div class="testimonial-description">
							<div class="testimonial-info">
								<div class="testimonial-img">
									<img src="{% static 'assets/images/clients/c1.png'%}" alt="clients">
								</div><!--/.testimonial-img-->
								<!--<div class="testimonial-person">
									<h2>Tom Leakar</h2>
									<h4>london, UK</h4>
									<div class="testimonial-person-star">
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
									</div>
								</div><!--/.testimonial-person-->
							</div><!--/.testimonial-info-->
							<!--<div class="testimonial-comment">
								<p>
									Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis eaque.
								</p>
							</div><!--/.testimonial-comment-->
						</div><!--/.testimonial-description-->
					</div><!--/.single-testimonial-box-->
				   <!-- <div class="single-testimonial-box">
						<div class="testimonial-description">
							<div class="testimonial-info">
								<div class="testimonial-img">
									<img src="{% static 'assets/images/clients/c2.png'%}" alt="clients">
								</div><!--/.testimonial-img-->
							<!--	<div class="testimonial-person">
									<h2>monirul islam</h2>
									<h4>london, UK</h4>
									<div class="testimonial-person-star">
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
									</div>
								</div><!--/.testimonial-person-->
							<!--</div><!--/.testimonial-info-->
							<!--<div class="testimonial-comment">
								<p>
									Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis eaque.
								</p>
							</div><!--/.testimonial-comment-->
						</div><!--/.testimonial-description-->
					</div><!--/.single-testimonial-box-->
				   <!-- <div class="single-testimonial-box">
						<div class="testimonial-description">
							<div class="testimonial-info">
								<div class="testimonial-img">
									<img src="{% static 'assets/images/clients/c3.png'%}" alt="clients">
								</div><!--/.testimonial-img-->
							<!--	<div class="testimonial-person">
									<h2>Shohrab Hossain</h2>
									<h4>london, UK</h4>
									<div class="testimonial-person-star">
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
									</div>
								</div><!--/.testimonial-person-->
							<!--</div><!--/.testimonial-info-->
							<!--<div class="testimonial-comment">
								<p>
									Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis eaque.
								</p>
							</div><!--/.testimonial-comment-->
						</div><!--/.testimonial-description-->
					<!--</div><!--/.single-testimonial-box-->
				    <!--<div class="single-testimonial-box">
						<div class="testimonial-description">
							<div class="testimonial-info">
								<div class="testimonial-img">
									<img src="{% static 'assets/images/clients/c4.png'%}" alt="clients">
								</div><!--/.testimonial-img-->
							<!--	<div class="testimonial-person">
									<h2>Tom Leakar</h2>
									<h4>london, UK</h4>
									<div class="testimonial-person-star">
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
										<i class="fa fa-star"></i>
									</div>
								</div><!--/.testimonial-person-->
							</div><!--/.testimonial-info-->
							<!--<div class="testimonial-comment">
								<p>
									Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis eaque.
								</p>
							</div><!--/.testimonial-comment-->
						</div><!--/.testimonial-description-->
					</div><!--/.single-testimonial-box-->
				</div>
			</div>

		</section><!--/.reviews-->
		<!--reviews end -->

		<!-- statistics strat -->
		<!--<section id="statistics"  class="statistics">
			<div class="container">
				<div class="statistics-counter"> 
					<div class="col-md-3 col-sm-6">
						<div class="single-ststistics-box">
							<div class="statistics-content">
								<div class="counter">90 </div> <span>K+</span>
							</div><!--/.statistics-content-->
							<!--<h3>listings</h3>
						</div><!--/.single-ststistics-box-->
					</div><!--/.col-->
					<!--<div class="col-md-3 col-sm-6">
						<div class="single-ststistics-box">
							<div class="statistics-content">
								<div class="counter">40</div> <span>k+</span>
							</div><!--/.statistics-content-->
					<!--		<h3>listing categories</h3>
						</div><!--/.single-ststistics-box-->
					</div><!--/.col-->
					<!--<div class="col-md-3 col-sm-6">
						<div class="single-ststistics-box">
							<div class="statistics-content">
								<div class="counter">65</div> <span>k+</span>
							</div><!--/.statistics-content-->
					<!--		<h3>visitors</h3>
						</div><!--/.single-ststistics-box-->
					</div><!--/.col-->
					<!--<div class="col-md-3 col-sm-6">
						<div class="single-ststistics-box">
							<div class="statistics-content">
								<div class="counter">50</div> <span>k+</span>
							</div><!--/.statistics-content-->
						<!--	<h3>happy clients</h3>
						</div><!--/.single-ststistics-box-->
					</div><!--/.col-->
				</div><!--/.statistics-counter-->	
			</div><!--/.container-->

		</section><!--/.counter-->	
		<!-- statistics end -->

		<!--blog start -->
		<!--<section id="blog" class="blog" >
			<div class="container">
				<div class="section-header">
					<h2>news and articles</h2>
					<p>Always upto date with our latest News and Articles </p>
				</div><!--/.section-header-->
				<!--<div class="blog-content">
					<div class="row">
						<div class="col-md-4 col-sm-6">
							<div class="single-blog-item">
								<div class="single-blog-item-img">
									<img src="{% static 'assets/images/blog/b1.jpg'%}" alt="blog image">
								</div>
								<div class="single-blog-item-txt">
									<h2><a href="#">How to find your Desired Place more quickly</a></h2>
									<h4>posted <span>by</span> <a href="#">admin</a> march 2018</h4>
									<p>
										Lorem ipsum dolor sit amet, consectetur de adipisicing elit, sed do eiusmod tempore incididunt ut labore et dolore magna.
									</p>
								</div>
							</div>
						</div>
						<div class="col-md-4 col-sm-6">
							<div class="single-blog-item">
								<div class="single-blog-item-img">
									<img src="{% static 'assets/images/blog/b2.jpg'%}" alt="blog image">
								</div>
								<div class="single-blog-item-txt">
									<h2><a href="#">How to find your Desired Place more quickly</a></h2>
									<h4>posted <span>by</span> <a href="#">admin</a> march 2018</h4>
									<p>
										Lorem ipsum dolor sit amet, consectetur de adipisicing elit, sed do eiusmod tempore incididunt ut labore et dolore magna.
									</p>
								</div>
							</div>
						</div>
						<div class="col-md-4 col-sm-6">
							<div class="single-blog-item">
								<div class="single-blog-item-img">
									<img src="{% static 'assets/images/blog/b3.jpg'%}" alt="blog image">
								</div>
								<div class="single-blog-item-txt">
									<h2><a href="#">How to find your Desired Place more quickly</a></h2>
									<h4>posted <span>by</span> <a href="#">admin</a> march 2018</h4>
									<p>
										Lorem ipsum dolor sit amet, consectetur de adipisicing elit, sed do eiusmod tempore incididunt ut labore et dolore magna.
									</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div><!--/.container-->
			
		</section><!--/.blog-->
		<!--blog end -->

		<!--subscription strat -->
		<!--<section id="contact"  class="subscription">
			<div class="container">
				<div class="subscribe-title text-center">
					<h2>
						do you want to add your business listing with us?
					</h2>
					<p>
						Listrace offer you to list your business with us and we very much able to promote your Business.
					</p>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<div class="subscription-input-group">
							<form action="#">
								<input type="email" class="subscription-input-form" placeholder="Enter your email here">
								<button class="appsLand-btn subscribe-btn" onclick="window.location.href='#'">
									creat account
								</button>
							</form>
						</div>
					</div>	
				</div>
			</div>

		</section><!--/subscription-->	
		<!--subscription end -->

		<!--footer start-->
		<!--<footer id="footer"  class="footer">
			<div class="container">
				<div class="footer-menu">
		           	<div class="row">
			           	<div class="col-sm-3">
			           		 <div class="navbar-header">
				                <a class="navbar-brand" href="index.html">list<span>race</span></a>
				            </div><!--/.navbar-header-->
			           	</div>
			         <!--  	<div class="col-sm-9">
			           		<ul class="footer-menu-item">
			                    <li class="scroll"><a href="#works">how it works</a></li>
			                    <li class="scroll"><a href="#explore">explore</a></li>
			                    <li class="scroll"><a href="#reviews">review</a></li>
			                    <li class="scroll"><a href="#blog">blog</a></li>
			                    <li class="scroll"><a href="#contact">contact</a></li>
			                    <li class=" scroll"><a href="#contact">my account</a></li>
			                </ul><!--/.nav -->
			           <!--	</div>
		           </div>
				</div>-->





				
				<!-- Footer -->
				<footer class="footer">
					<p>&copy; 2024 Dream Knot. All rights reserved.</p>
					<p>Designed by <a href="#">Dream Knot</a></p>
				</footer>
			</div><!--/.container-->

			<div id="scroll-Top">
				<div class="return-to-top">
					<i class="fa fa-angle-up " id="scroll-top" data-toggle="tooltip" data-placement="top" title="" data-original-title="Back to Top" aria-hidden="true"></i>
				</div>
				
			</div><!--/.scroll-Top-->
			
        </footer><!--/.footer-->
		<!--footer end -->

		<!-- Redesigned Chatbot HTML -->
<div class="container">
    <!-- Chatbot Icon -->
    <div id="chatbot-icon" class="chatbot-icon">
        <i class="fas fa-robot"></i>
    </div>

    <!-- Chatbox Modal -->
    <div id="chatbox" class="chatbox-modal">
        <div class="chatbox-header">
            <h2>Dream Knot Assistant</h2>
            <span id="close-chatbox" class="close">&times;</span>
        </div>

        <div class="chatbox-body" id="chatbox-body">
            <!-- Messages will be dynamically appended here -->
        </div>

        <div class="chatbox-footer">
            <input type="text" id="user-input" class="form-control" placeholder="Type your message...">
            <button id="send-button" class="btn btn-primary"><i class="fas fa-paper-plane"></i></button>
            <button id="speech-button" class="btn btn-secondary"><i class="fas fa-microphone"></i></button>
            <div class="icon-tools">
                <i id="generate-image-icon" class="fas fa-image tool-icon" title="Generate image for decor"></i>
                <i id="upload-image-icon" class="fas fa-upload tool-icon" title="Upload Image"></i>
            </div>
        </div>

        <!-- Tool Input Boxes -->
        <div class="tool-input" id="generate-image-input">
            <input type="text" id="image-description" class="form-control" placeholder="Describe your decor...">
            <button id="generate-image-button" class="btn btn-success">Generate</button>
        </div>
		<div class="tool-input" id="upload-image-input">
			<input type="file" id="image-upload" class="form-control-file" accept="image/*"  style="color: black;">
			<button id="upload-button" class="btn btn-info">Upload</button>
			<div id="uploaded-images" style="margin-top: 10px;">		</div>
		

        {% comment %} <!-- Results and Generated Images -->
        <div id="generated-image-container" class="mt-3"></div>
        <div id="search-results-container" class="mt-3"></div> {% endcomment %}
    </div>
</div>



<script>
	// dreamproject/dreamknot1/static/dreamknot1/js/chatbot.js
document.addEventListener('DOMContentLoaded', function () {
    const chatbotIcon = document.getElementById('chatbot-icon');
    const chatbox = document.getElementById('chatbox');
    const closeChatbox = document.getElementById('close-chatbox');
    const sendButton = document.getElementById('send-button');
    const userInput = document.getElementById('user-input');
    const chatboxBody = document.getElementById('chatbox-body');
    const speechButton = document.getElementById('speech-button');
    const generateImageIcon = document.getElementById('generate-image-icon');
    const uploadImageIcon = document.getElementById('upload-image-icon');
    const generateImageInput = document.getElementById('generate-image-input');
    const uploadImageInput = document.getElementById('upload-image-input');
    const generateImageButton = document.getElementById('generate-image-button');
    const uploadButton = document.getElementById('upload-button');
    
	
    chatbotIcon.addEventListener('click', () => {
        chatbox.style.display = 'block';
        userInput.focus();
    });

    closeChatbox.addEventListener('click', () => {
        chatbox.style.display = 'none';
    });

    sendButton.addEventListener('click', sendMessage);

    speechButton.addEventListener('click', () => {
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        recognition.lang = 'en-US';
        recognition.start();

        recognition.onresult = (event) => {
            const transcript = event.results[0][0].transcript;
            userInput.value = transcript;
            sendMessage();
        };
    });

    generateImageIcon.addEventListener('click', () => {
        toggleToolInput(generateImageInput);
    });

    uploadImageIcon.addEventListener('click', () => {
        toggleToolInput(uploadImageInput);
    });

	generateImageButton.addEventListener('click', () => {
		const description = document.getElementById('image-description').value.trim();
		if (description) {
			fetch('/generate-image/', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/x-www-form-urlencoded',
					'X-CSRFToken': getCookie('csrftoken') // Ensure CSRF token is included
				},
				body: new URLSearchParams({ description }) // Send the description as form data
			})
			.then(response => response.json())
			.then(data => {
				if (data.image_url) {
					// Create an img element to display the generated image
					const imgElement = document.createElement('img');
					imgElement.src = data.image_url; // Use the returned URL
					imgElement.alt = 'Generated Image';
					imgElement.style.width = '100%'; // Adjust width as needed
					imgElement.style.borderRadius = '5px';
					imgElement.style.marginTop = '10px';

					// Append the image to the chatbox body
					appendMessage('Chatbot', 'Here is your generated image:');
					chatboxBody.appendChild(imgElement); // Append the image element
				} else {
					appendMessage('Chatbot', 'Image generation failed: ' + (data.error || 'Unknown error.'));
				}
			})
			.catch(error => {
				appendMessage('Chatbot', 'Error generating image: ' + error.message);
			});
		} else {
			appendMessage('Chatbot', 'Please provide a description for the image.');
		}
	});
	

	uploadButton.addEventListener('click', () => {
		const fileInput = document.getElementById('image-upload');
		const file = fileInput.files[0];
	
		if (file) {
			const formData = new FormData();
			formData.append('image', file);
	
			fetch('/upload-image/', {
				method: 'POST',
				body: formData,
				headers: {
					'X-CSRFToken': getCookie('csrftoken') // Add CSRF token for security
				}
			})
				.then(response => response.json())
				.then(data => {
					if (data.success) {
						// Clear the file input for new uploads
						fileInput.value = '';
	
						// Create an img element to display the uploaded image
						const imgElement = document.createElement('img');
						imgElement.src = data.image_url; // Use the returned URL
						imgElement.alt = 'Uploaded Image';
						imgElement.style.width = '100%';
						imgElement.style.borderRadius = '5px';
						imgElement.style.marginTop = '10px';
	
						// Append the image to the uploaded images section
						const uploadedSection = document.getElementById('uploaded-images');
						uploadedSection.innerHTML = ''; // Clear previous images
						uploadedSection.appendChild(imgElement);
	
						// Notify the user in the chatbox
						appendMessage('Chatbot', 'Image uploaded successfully.');
					} else {
						appendMessage('Chatbot', 'Image upload failed.');
					}
				})
				.catch(error => {
					appendMessage('Chatbot', 'Error uploading image.');
				});
		} else {
			appendMessage('Chatbot', 'Please select an image to upload.');
		}
	});
	
	
    function sendMessage() {
        const message = userInput.value.trim();
        if (message) {
            appendMessage('You', message);
            userInput.value = '';
            fetch('/chatbot/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    'X-CSRFToken': getCookie('csrftoken')
                },
                body: new URLSearchParams({ message })
            })
                .then(response => response.json())
                .then(data => {
                    appendMessage('Chatbot', data.response || 'Sorry, I did not understand that.');
                });
        }
    }

    function appendMessage(sender, text) {
        const messageElement = document.createElement('div');
        messageElement.className = `message ${sender === 'You' ? 'user-message' : 'chatbot-message'}`;
        messageElement.innerHTML = `${text}<span class="timestamp">${new Date().toLocaleTimeString()}</span>`;
        chatboxBody.appendChild(messageElement);
        chatboxBody.scrollTop = chatboxBody.scrollHeight;
    }

    function toggleToolInput(inputElement) {
        document.querySelectorAll('.tool-input').forEach(el => el.classList.remove('active'));
        inputElement.classList.add('active');
    }

    function getCookie(name) {
        const cookieArr = document.cookie.split(';');
        for (let cookie of cookieArr) {
            if (cookie.trim().startsWith(name + '=')) {
                return decodeURIComponent(cookie.split('=')[1]);
            }
        }
        return null;
    }
});

</script>


		<!-- Include all js compiled plugins (below), or include individual files as needed -->

		<script src="{% static 'assets/js/jquery.js'%}"></script>
        
        <!--modernizr.min.js-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
		
		<!--bootstrap.min.js-->
        <script src="{% static 'assets/js/bootstrap.min.js'%}"></script>
		
		<!-- bootsnav js -->
		<script src="{% static 'assets/js/bootsnav.js'%}"></script>

        <!--feather.min.js-->
        <script  src="{% static 'assets/js/feather.min.js'%}"></script>

        <!-- counter js -->
		<script src="{% static 'assets/js/jquery.counterup.min.js'%}"></script>
		<script src="{% static 'assets/js/waypoints.min.js'%}"></script>

        <!--slick.min.js-->
        <script src="{% static 'assets/js/slick.min.js'%}"></script>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
		     
        <!--Custom JS-->
        <script src="{% static 'assets/js/custom.js'%}"></script>
		<script>
			document.querySelectorAll('.favorite-icon').forEach(function (icon) {
				icon.addEventListener('click', function () {
					this.classList.toggle('favorited');  // Toggle filled heart
					// You can add AJAX here to handle saving the favorite status
				});
			});

					
		</script>

        
		<!-- JavaScript Files -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Check if wedding date is not set
        {% if not wedding_date %}
        Swal.fire({
            title: 'Wedding Date Not Set',
            text: 'Please set your wedding date to get the best recommendations and wedding tasks!',
            icon: 'warning',
            confirmButtonText: 'Okay'
		}).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "{% url 'update_user_profile' %}";  // Redirect to update user profile page
            }
        });
        {% endif %}
        
        // Logout Confirmation
        const logoutLinks = document.querySelectorAll('.logout-button, .nav-links a[href="{% url 'logout' %}"]');

        logoutLinks.forEach(link => {
            link.addEventListener('click', function(event) {
                event.preventDefault();
                
                Swal.fire({
                    title: 'Are you sure?',
                    text: "You will be logged out!",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Yes, log me out!'
                }).then((result) => {
                    if (result.isConfirmed) {
                        window.location.href = this.href;
                    }
                });
            });
        });
    });
</script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const wrapper = document.getElementById('categoriesWrapper');
    const prevButton = document.getElementById('prevButton');
    const nextButton = document.getElementById('nextButton');
    const scrollAmount = 300; // Adjust this value to control scroll distance

    // Update button states
    function updateButtonStates() {
        prevButton.disabled = wrapper.scrollLeft <= 0;
        nextButton.disabled = wrapper.scrollLeft >= wrapper.scrollWidth - wrapper.clientWidth;
    }

    // Scroll left
    prevButton.addEventListener('click', () => {
        wrapper.scrollBy({
            left: -scrollAmount,
            behavior: 'smooth'
        });
        setTimeout(updateButtonStates, 100);
    });

    // Scroll right
    nextButton.addEventListener('click', () => {
        wrapper.scrollBy({
            left: scrollAmount,
            behavior: 'smooth'
        });
        setTimeout(updateButtonStates, 100);
    });

    // Update button states on scroll
    wrapper.addEventListener('scroll', updateButtonStates);

    // Initial button state
    updateButtonStates();

    // Handle touch events for mobile
    let touchStartX = 0;
    let touchEndX = 0;

    wrapper.addEventListener('touchstart', (e) => {
        touchStartX = e.touches[0].clientX;
    });

    wrapper.addEventListener('touchmove', (e) => {
        touchEndX = e.touches[0].clientX;
        const diffX = touchStartX - touchEndX;
        wrapper.scrollLeft += diffX;
        touchStartX = touchEndX;
    });

    // Update button states on window resize
    window.addEventListener('resize', updateButtonStates);
});
</script>

    </body>
	
</html>
